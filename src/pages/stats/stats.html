<ion-header>
  <ion-navbar>
    <ion-title>
      Stats
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <ion-card>
    <ion-segment [ngModel]="dateRange" (ngModelChange)="changeDateRange($event)">
      <ion-segment-button value="day">
        Today
      </ion-segment-button>
      <ion-segment-button value="week">
        Week
      </ion-segment-button>
      <ion-segment-button value="month">
        Month
      </ion-segment-button>
      <ion-segment-button value="year">
        Year
      </ion-segment-button>
    </ion-segment>
    <ion-grid>
      <ion-row>
        <ion-col col-6>Trips:</ion-col>
        <ion-col col-6 text-right>{{total.trips}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>Distance (mi):</ion-col>
        <ion-col col-6 text-right>{{total.distance | number:'1.1-1' }}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>Time (min):</ion-col>
        <ion-col col-6 text-right>{{total.time}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>Expense:</ion-col>
        <ion-col col-6 text-right>{{total.expenses | currency:'USD':true:'1.2-2'}}</ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>

  <ion-card>
    <ion-card-header class="card-ios-light">
      By Destination
    </ion-card-header>
    <ion-list>
      <ion-item *ngFor="let dest of destinations">
        <h2>{{dest}}</h2>
        <ion-grid>
          <ion-row>
            <ion-col col-6><p>Trips:</p></ion-col>
            <ion-col col-6 text-right><p>{{getTotal(dest).trips}}</p></ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-6><p>Distance (mi):</p></ion-col>
            <ion-col col-6 text-right><p>{{getTotal(dest).distance | number:'1.1-1' }}</p></ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-6><p>Time (min):</p></ion-col>
            <ion-col col-6 text-right><p>{{getTotal(dest).time}}</p></ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-6><p>Expense:</p></ion-col>
            <ion-col col-6 text-right><p>{{getTotal(dest).expenses | currency:'USD':true:'1.2-2'}}</p></ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </ion-card>
</ion-content>